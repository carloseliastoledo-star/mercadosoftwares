datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
  directUrl = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum AdminRole {
  admin
  editor
}

model Produto {
  id        String    @id @default(uuid())
  nome      String
  slug      String    @unique
  descricao String?
  preco     Float
  imagem    String?   // ðŸ‘ˆ NOVO CAMPO
  tutorialTitulo    String?
  tutorialSubtitulo String?
  tutorialConteudo  String?   @db.Text
  criadoEm  DateTime  @default(now())
  licencas  Licenca[]
}


model Licenca {
  id          String   @id @default(uuid())
  chave       String   @unique
  status      String
  produtoId   String
  produto     Produto  @relation(fields: [produtoId], references: [id])
  criadoEm    DateTime @default(now())
}

model AdminUser {
  id           String    @id @default(uuid())
  email        String    @unique
  passwordHash String
  role         AdminRole @default(editor)
  createdAt    DateTime  @default(now())
}
